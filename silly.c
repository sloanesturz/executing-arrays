#include <stdio.h>

typedef int (*firstFunction)();
typedef int (*secondFunction)(char *);
typedef void (*printfFunction)(int);

int sillyFunction() {
  return 5;
}

int editFunction(char *ptr) {
  ptr[4] = 69;
}



void callPrintf(int num) {
  char s[4] = { '%', 'd', '\n', '\0' };
  printf(s, num);
}

int main() {
  char array[10] = { 0x55, 0x89, 0xe5, 0xb8, 0x05, 0x00, 0x00, 0x00, 0x5d,
		     0xc3 };
  int x = ((firstFunction)array)();
  char brray[14] = { 0x55, 0x89, 0xe5, 0x8b, 0x45, 0x08, 0x83, 0xc0, 0x04,
		     0xc6, 0x00, 0x45, 0x5d, 0xc3 }; 
  ((secondFunction)brray)(array);
  int y = ((firstFunction)array)();
  char crray[70] = { 0x55, 0x89, 0xe5, 0x83, 0xec, 0x28, 0x65, 0xa1,
		     0x14, 0x00, 0x00, 0x00, 0x89, 0x45, 0xf4, 0x31,
		     0xc0, 0xc6, 0x45, 0xf0, 0x25, 0xc6, 0x45, 0xf1,
		     0x64, 0xc6, 0x45, 0xf2, 0x0a, 0xc6, 0x45, 0xf3,
		     0x00, 0x8d, 0x45, 0xf0, 0x8b, 0x55, 0x08, 0x89,
		     0x54, 0x24, 0x04, 0x89, 0x04, 0x24, 0xe8, 0xc1,
		     0xfe, 0xff, 0xff, 0x8b, 0x45, 0xf4, 0x65, 0x33,
		     0x05, 0x14, 0x00, 0x00, 0x00, 0x74, 0x05, 0xe8,
		     0xc0, 0xfe, 0xff, 0xff, 0xc9, 0xc3 };
  callPrintf(x);
  callPrintf(y);
  ((printfFunction)crray)(x);
  ((printfFunction)crray)(y);
  //  printf("first=%d, second=%d\n", x, y);
 
  /*  int (*functionPtr)();
  functionPtr = &array;
  printf("a=%d\n", functionPtr());

  secondFunctionPtr = &brray;
  secondFunctionPtr(array); */
  

  return 0;
}
